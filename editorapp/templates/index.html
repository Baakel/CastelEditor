{% extends "base.html" %}

{% block content %}
    <h1>OAuth Demo</h1>
    {% for message in get_flashed_messages() %}
        <p><b>Error:</b>{{ message }}</p>
    {% endfor %}
    {% if current_user.is_authenticated %}
        <h2>Hi, {{ current_user.nickname }}</h2>
        <p><a href="{{ url_for('logout') }}">Logout</a></p>
    {% else %}
        <h2>I don't know you!</h2>
        <p><a href="{{ url_for('oauth_authorize', provider='github') }}">Login with github</a></p>
    {% endif %}
    <!--<h1>Welcome, {{ user.nickname }}</h1>-->
    <!--{% for project in projects %}-->
    <!--<div><p>Current Editors: {{ project.author.nicknames }}<br><b>{{ project.description }}</b></p></div>-->
    <!--{% endfor %}-->
{% endblock %}